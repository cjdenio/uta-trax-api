syntax = "proto3";
option go_package = "github.com/cjdenio/uta-trax-api/proto";

message VehicleFeed {
  enum Line {
    LINE_UNSPECIFIED = 0;
    GREEN = 1;
    RED = 2;
    BLUE = 3;
    STREETCAR = 4;
    FRONTRUNNER = 5;
  }

  message FeedInfo {
    uint64 last_update = 1;
  }

  message Route {
    enum RouteType {
      UNSPECIFIED = 0;
      TRAM = 1;
      SUBWAY = 2;
      RAIL = 3;
      BUS = 4;
    }

    RouteType type = 1;
    string id = 2;
    string color = 3;
    string short_name = 4;
    string long_name = 5;
  }

  message Station {
    string id = 1;
    string name = 2;
    float lat = 3;
    float lon = 4;
  }

  message Vehicle {
    float lat = 1;
    float lon = 2;
    float bearing = 9;
    Line line = 3;
    int32 direction = 4;
    string id = 5;
    Station nearest_station = 6;
    string headsign = 7;
    Route route = 8;
  }

  repeated Vehicle vehicles = 1;
  FeedInfo info = 2;
}
